!function(){var t=function(){for(var t=document.querySelectorAll(".action-bar"),e=t.length,n=document.querySelectorAll(".action-overflow"),i=n.length;n&&i--;)n[i].parentNode.removeChild(n[i]);if(window.innerWidth<=480)for(;e--;){var o=t[e].querySelector(".actions"),s=t[e].querySelectorAll(".actions .action");if(s.length>2&&"false"!==o.getAttribute("data-overflow")){var a=(s[0],s.length),r=document.createElement("ol"),d=document.createElement("li"),c=document.createElement("a"),l=document.createElement("i");r.setAttribute("reversed","reversed"),r.classList.add("action-overflow-list"),r.classList.add("spinner");for(var u=1;a>u;u++){s[u].parentNode.classList.add("action-overflow-hidden");var h=document.createElement("li"),f=document.createElement("a");f.innerHTML=s[u].getAttribute("title"),f.setAttribute("href",s[u].getAttribute("href")),f.setAttribute("data-transition",s[u].getAttribute("data-transition")),f.setAttribute("data-timeout",s[u].getAttribute("data-timeout")),f.setAttribute("data-ignore",s[u].getAttribute("data-ignore")),h.classList.add("spinner-item"),h.appendChild(f),r.appendChild(h)}c.classList.add("action"),c.classList.add("action-overflow-icon"),c.classList.add("toggle-spinner"),c.appendChild(l),d.classList.add("action-overflow"),d.appendChild(c),d.appendChild(r),t[e].querySelector(".actions").appendChild(d)}}else for(;e--;)for(var v=t[e].querySelectorAll(".actions .action"),m=v.length;m--;)v[m].parentNode.classList.remove("action-overflow-hidden")};window.addEventListener("load",t,!1),window.addEventListener("resize",t,!1),window.addEventListener("popstate",t,!1),window.addEventListener("push",t,!1)}(),this.fries=this.fries||{},function(){var t=function(t){this._init(t)};t.prototype={_dialog:null,_settings:{selector:null,callbackOk:function(){this.hide()},callbackCancel:function(){this.hide()}},_init:function(t){if(this._settings=fries.utils.merge(this._settings,t),!this._settings.selector)throw new Error("Missing parameter: selector");if(this._dialog=document.querySelector(this._settings.selector),!this._dialog)throw new Error("Could not find "+this._settings.selector+" in the DOM");this.attachEventHandlers()},attachEventHandlers:function(){this._dialog.querySelector(".dialog-ok-button").addEventListener("touchend",this._settings.callbackOk.bind(this),!1),this._dialog.querySelector(".dialog-cancel-button").addEventListener("touchend",this._settings.callbackCancel.bind(this),!1)},center:function(t){var e=getComputedStyle(t),n=e.width,i=e.height;n=n.slice(0,n.length-2),i=i.slice(0,i.length-2);var o=window.innerWidth/2-n/2,s=window.innerHeight/2-i/2;t.style.marginLeft=o+"px",t.style.marginTop=s+"px"},show:function(){function t(){n.parentNode.removeEventListener("webkitTransitionEnd",t),n.classList.add("on"),n.classList.add("push"),document.querySelector(".dialogs").addEventListener("touchend",function(t){t.target===document.querySelector(".dialogs")&&(console.log("Hiding the dialog"),this.hide())}.bind(e),!1)}var e=this,n=this._dialog;this.center(n),n.parentNode.classList.add("on"),n.parentNode.removeEventListener("webkitTransitionEnd"),n.parentNode.addEventListener("webkitTransitionEnd",t,!1),setTimeout(function(){this._dialog.parentNode.classList.add("fade-in")}.bind(this),200)},hide:function(){function t(){n.removeEventListener("webkitAnimationEnd",t),n.classList.remove("pop"),n.parentNode.classList.remove("fade-in"),n.parentNode.addEventListener("webkitTransitionEnd",e)}function e(){n.parentNode.removeEventListener("webkitTransitionEnd",e),n.parentNode.classList.remove("on")}var n=this._dialog;n.classList.remove("push"),n.classList.remove("on"),n.classList.add("pop"),n.addEventListener("webkitAnimationEnd",t,!1),document.querySelector(".dialogs").removeEventListener("touchend"),this.destroy()},destroy:function(){}},this.fries.Dialog=t}(),function(){var t=function(){for(var t=document.querySelectorAll(".input-text"),n=t.length;n--;){var i=t[n],o=document.createElement("span");i.parentNode.classList.contains("input-pretty")||(i.classList.contains("flex1")?(o.classList.add("flex1"),i.classList.remove("flex1")):i.classList.contains("flex2")?(o.classList.add("flex2"),i.classList.remove("flex2")):i.classList.contains("flex3")&&(o.classList.add("flex3"),i.classList.remove("flex3")),o.classList.add("input-pretty"),i.parentNode.insertBefore(o,i),i.parentNode.removeChild(i),o.appendChild(i),i.addEventListener("focus",e,!1),i.addEventListener("blur",e,!1))}},e=function(t){var e=t.currentTarget;e.parentNode.classList.toggle("focus")};window.addEventListener("load",t),window.addEventListener("resize",t,!1),window.addEventListener("popstate",t,!1),window.addEventListener("push",t,!1)}(),function(){var t=function(t){for(var e,n=document.querySelectorAll(".toggle-spinner");t&&t!==document;t=t.parentNode)for(e=n.length;e--;)if(n[e]===t)return t},e=function(e){var n=t(e.target);return n?n:void 0},n=function(t){for(var e,n=document.querySelectorAll(".spinner-item");t&&t!==document;t=t.parentNode)for(e=n.length;e--;)if(n[e]===t)return t},i=function(t){var e=n(t.target);return e?e:void 0},o=function(t){var n=e(t);n&&(t.preventDefault(),s(n))},s=function(t){function e(){n.classList.contains("active")||(n.style.display="none")}var n=t.parentNode.querySelectorAll(".spinner")[0];n.classList.contains("active")||(n.style.display="block"),setTimeout(function(){n.classList.toggle("active"),n.addEventListener("webkitTransitionEnd",e)},20)};document.addEventListener("touchend",function(t){if(!i(t)&&!e(t))for(var n=document.querySelectorAll(".spinner"),o=n.length;o--;)n[o].classList.remove("active")}),window.addEventListener("touchend",o,!1)}(),function(){var t,e=20,n=sessionStorage,i={},o=function(t,e){l.id=t.id,e&&(t=r(t.id)),n[t.id]=JSON.stringify(t),window.history.replaceState(t.id,t.title,t.url),i[t.id]=document.body.cloneNode(!0)},s=function(){var t=l.id,i=JSON.parse(n.cacheForwardStack||"[]"),o=JSON.parse(n.cacheBackStack||"[]");for(o.push(t);i.length;)delete n[i.shift()];for(;o.length>e;)delete n[o.shift()];window.history.pushState(null,"",n[l.id].url),n.cacheForwardStack=JSON.stringify(i),n.cacheBackStack=JSON.stringify(o)},a=function(t,e){var i="forward"==e,o=JSON.parse(n.cacheForwardStack||"[]"),s=JSON.parse(n.cacheBackStack||"[]"),a=i?s:o,r=i?o:s;l.id&&a.push(l.id),r.pop(),n.cacheForwardStack=JSON.stringify(o),n.cacheBackStack=JSON.stringify(s)},r=function(t){return JSON.parse(n[t]||null)||{}},d=function(t){var e=w(t);return e?(t.preventDefault(),"pop"!=e.getAttribute("data-transition")||e.classList.contains("up")?void l({url:e.getAttribute("href"),hash:e.hash,container:".page",timeout:e.getAttribute("data-timeout"),transition:e.getAttribute("data-transition")}):(window.history.go(-1),void p())):void 0},c=function(t){var e,o,s,d,c,h,f=t.state;if(f&&n[f]){if(s=l.id<f?"forward":"back",a(f,s),e=r(f),o=i[f],e.title&&(document.title=e.title),"back"==s?(c=JSON.parse("back"==s?n.cacheForwardStack:n.cacheBackStack),h=r(c[c.length-1])):h=e,console.log(s),"back"==s&&!h.id)return l.id=f;if(d="back"==s?"pop":h.transition,!o)return l({id:e.id,url:e.url,title:e.title,timeout:e.timeout,transition:d,ignorePush:!0});u((e.contents||o.querySelector(".page")).cloneNode(!0),document.querySelector(".page"),d),l.id=f}},l=function(t){var e=l.xhr;t.container=document.querySelector(t.container),t.container||(t.container=document.querySelector(".page")),e&&e.readyState<4&&(e.onreadystatechange=function(){},e.abort()),e=new XMLHttpRequest,e.open("GET",t.url,!1),e.setRequestHeader("X-DOCUMENT","true"),e.onreadystatechange=function(){t._timeout&&clearTimeout(t._timeout),4==e.readyState&&(200==e.status||0===e.status?f(e,t):v(t.url))},l.id||o({id:+new Date,url:t.url,title:document.title,timeout:t.timeout,transition:null}),t.timeout&&(t._timeout=setTimeout(function(){e.abort("timeout")},t.timeout)),e.send(),e.readyState&&!t.ignorePush&&s()},u=function(t,e,n,i){function o(){console.log(e),t.removeEventListener("webkitAnimationEnd",o,!1),t.classList.remove(n),e.parentNode&&e.parentNode.removeChild(e),i&&i()}function s(){e.classList.add("hidden"),e.removeEventListener("webkitAnimationEnd",s,!1),e.parentNode.removeChild(e),i&&i()}n?e.parentNode.insertBefore(t,e):e.innerHTML=t.innerHTML,!n&&i&&i(),/push/.test(n)&&(t.classList.add(n),e.classList.add("fade"),t.addEventListener("webkitAnimationEnd",o,!1)),/pop/.test(n)&&(t.style.opacity=1,e.classList.add("pop"),e.addEventListener("webkitAnimationEnd",s,!1))},h=function(t,e){o({id:e.id||+new Date,url:t.url,title:t.title,timeout:e.timeout,transition:e.transition},e.id),p()},f=function(t,e){var n=m(t,e);return n.contents?(u(n.contents,e.container,e.transition,h(n,e)),n.title&&(document.title=n.title),!e.ignorePush&&window._gaq&&_gaq.push(["_trackPageview"]),void!e.hash):(window.history.replaceState(null,"","#"),void window.location.replace(e.url))},v=function(t){throw new Error("Could not get "+t)},m=function(t,e){var n={},i=t.responseText;return n.url=e.url,i?(/<html/i.test(i)?(head=document.createElement("div"),body=document.createElement("div"),head.innerHTML=i.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0],body.innerHTML=i.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]):(head=body=document.createElement("div"),head.innerHTML=i),n.title=head.querySelector("title"),n.title=n.title&&n.title.innerText.trim(),n.contents=body.querySelector(".page"),n):n},p=function(){"undefined"==typeof CustomEvent&&(CustomEvent=function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n});var t=new CustomEvent("push",{detail:{state:r(l.id)},bubbles:!0,cancelable:!0});setTimeout(function(){window.dispatchEvent(t)},200)},g=function(t){for(var e,n=document.querySelectorAll("a");t&&t!==document;t=t.parentNode)for(e=n.length;e--;)if(n[e]===t)return t},w=function(e){var n=g(e.target);return!n||e.which>1||e.metaKey||e.ctrlKey||t||location.protocol!==n.protocol||location.host!==n.host||!n.hash&&/#/.test(n.href)||n.hash&&n.href.replace(n.hash,"")===location.href.replace(location.hash,"")||"true"==n.getAttribute("data-ignore")?void 0:n};window.addEventListener("touchstart",function(){t=!1}),window.addEventListener("touchmove",function(){t=!0}),window.addEventListener("touchend",d),window.addEventListener("popstate",c)}(),function(){var t=function(t){for(var e,n=document.querySelectorAll(".tab-fixed li a");t&&t!==document;t=t.parentNode)for(e=n.length;e--;)if(n[e]===t)return t};window.addEventListener("touchend",function(e){function n(t){t.target.classList.remove("in-transition")}var i,o,s,a,r="active",d="."+r,c=t(e.target);if(c&&(e.preventDefault(),e.preventDefault(),a=c.parentNode,i=a.parentNode.querySelector(d),i&&i.classList.remove(r),a.classList.add(r),s=document.querySelector(c.hash))){o=s.parentNode.querySelector(d),o&&o.classList.remove(r),s.classList.add(r);for(var l=document.querySelectorAll(".tab-item"),u=l.length;u--;)l[u].classList.add("in-transition"),l[u].style.left=100*u+"%",l[u]==s&&(targetIndex=u),l[u]==o&&(activeIndex=u);u=l.length,setTimeout(function(){for(;u--;)l[u].style.webkitTransform="translateX("+(0===targetIndex?0:"-"+100*targetIndex)+"%)",l[u].addEventListener("webkitTransitionEnd",n)},50)}})}(),this.fries=this.fries||{},function(){var t=function(t){this._init(t)};t.duration={SHORT:3e3,LONG:5e3},t.prototype={_toast:null,_settings:{content:"Please follow @jaunesarmiento on Twitter.",duration:t.duration.SHORT,position:"bottom"},_init:function(t){if(this._settings=fries.utils.merge(this._settings,t),void 0===this._settings.content)throw new Error("Error: missing paramter content.");this._toast=document.createElement("div"),this._toast.classList.add("toast");var e=document.createElement("p");switch(e.classList.add("toast-message"),this._settings.position){case"top":this._toast.style.top="72px";break;case"center":break;default:this._toast.style.bottom="72px"}this._toast.appendChild(e),document.body.appendChild(this._toast),this.show()},setContent:function(t){this._settings.content=t.trim(),this._toast.querySelector(".toast-message").innerHTML=this._settings.content},show:function(){this.setContent(this._settings.content);var t=getComputedStyle(this._toast.childNodes[0]).width;t=t.slice(0,t.length-2);var e=window.innerWidth/2-t/2;this._toast.style.marginLeft=e+"px",this._toast.classList.add("on"),setTimeout(function(){this._toast.classList.add("fade-in"),setTimeout(this.hide.bind(this),this._settings.duration)}.bind(this),50)},hide:function(){this._toast.addEventListener("webkitTransitionEnd",function(t){t.target.classList.remove("on"),this.destroy(t.target)}.bind(this),!1),this._toast.classList.remove("fade-in")},destroy:function(t){document.body.removeChild(t)}},this.fries.Toast=t}(),this.fries=this.fries||{},function(){var t={merge:function(t,e){var n,i={};for(n in t)i[n]=t[n];for(n in e)i[n]=e[n];return i}};fries.utils=t}();